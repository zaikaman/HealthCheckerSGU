{% extends "base.html" %}

{% block extra_css %}
<link href="{{ url_for('static', filename='css/file_analysis_css.css') }}" rel="stylesheet">
{% endblock %}

{% block nav_title %}Phân Tích Hồ Sơ Y Tế{% endblock %}

{% block content %}
<div class="container">
    <h1 class="text-center mb-4">
        <i class="fas fa-file-medical text-primary me-2"></i>
        Phân Tích Hồ Sơ Y Tế và Đơn Thuốc
    </h1>

    <div class="form-container">
        <form action="{{ url_for('file_analysis') }}" method="post" 
              enctype="multipart/form-data" class="text-center">
            <div class="mb-4">
                <label for="file" class="form-label">
                    <i class="fas fa-upload me-2"></i>
                    Tải lên hình ảnh hồ sơ y tế hoặc đơn thuốc
                </label>
                <input type="file" name="file" id="file" 
                       class="form-control" required accept="image/*">
            </div>
            <button type="submit" class="btn btn-upload btn-lg w-100">
                <i class="fas fa-search me-2"></i>Phân Tích
            </button>
        </form>
    </div>

    {% if extracted_entities %}
    <div class="result-container">
        <h2 class="text-primary mb-3">
            <i class="fas fa-clipboard-check me-2"></i>
            Kết Quả Phân Tích
        </h2>
        <pre>{{ extracted_entities|safe }}</pre>
    </div>
    {% endif %}
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/file_analysis_js.js') }}"></script>
{% endblock %}
